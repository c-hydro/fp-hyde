

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; hyde 1.9.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Applications" href="applications.html" />
    <link rel="prev" title="Welcome to hyde’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> hyde
          

          
          </a>

          
            
            
              <div class="version">
                1.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#components">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python3-libraries">Python3 libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-software-and-applications">Other software and applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#potential-users">Potential Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contribute">Contribute</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#development-setup">Development setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#guidelines">Guidelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="executables.html">Executables</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="annex_a.html">Annex A - Hydrological Model Continuum</a></li>
<li class="toctree-l1"><a class="reference internal" href="annex_b.html">Annex B - Rainfarm</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hyde</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>The <strong>Hydrological Data Engines</strong>, commonly named <strong>HyDE</strong>, is a python package part of <strong>FloodPROOFS Modelling System</strong>. The FloodPROODS framework is a modelling system designed to assist decision makers during the operational phases of flood forecasting, nowcasting, mitigation and monitoring in various-sized catchments.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/CVA-200.jpg"><img alt="example of lake and dam in Valle d'Aosta region." src="_images/CVA-200.jpg" style="width: 500.0px; height: 300.0px;" /></a>
</div>
<p>The system is operational in real time in different basins on the whole Italian territory for the National Civil Protection Department and in some basins of Bolivia, Albania and Lebanon. It is also used for water management purposed by Italian hydro-power companies (Compagnia Valdostana delle Acque, CVA, ERG Power Generation).</p>
<div class="section" id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<p>In the Flood-PROOFS forecasting chain, the data dynamic processing part is performed by using the HyDE package [<a class="reference external" href="https://github.com/c-hydro">1</a>]. Written in python3 language, HyDE manages all aspects concerning the production of the datasets suitable for the FloodPROOFS modelling system. This package is able to read data both from various types of information (weather stations, satellite, nwp … ) and in different formats (such as GRIB, BUFR, hdf, hdf5, netcdf4 …); once getting and reading the source data, HyDE converts them from their original struture to formats commonly used by FloodPROOFS modelling system (for instance netCDF4, JSON and so on) and by other freely available applications (such as cdo, panoply, ncview, MET …).</p>
<p>For adapting datasets to the requested format, HyDE provides a checking of names, units and physics limits of all variables used by the FloodPROOFS modelling system. The reprojection or the interpolation of datasets, where they are needed, are performed by HyDE package too.</p>
<dl class="docutils">
<dt>Particularly, the HyDE library is organized in different parts, which are summarized as follows:</dt>
<dd><ul class="first last simple">
<li><strong>Applications</strong>: tools to configure procedures able to processing different type of data, usually written in python3 programming language and available in the apps folder;</li>
<li><strong>Executables</strong>: tools and utilities to run procedures, to download datasets or to interface HyDE package with different environments, usually written in bash or python3 programming languages and available in the bin folder;</li>
<li><strong>Docs</strong>: documents to describe HyDE package, applications and executables, usually written in reStructuredText (rst) and available in the docs folder;</li>
<li><strong>Codes</strong>: generic and specific classes and methods used by the applications, to perform processing data and to save results in the formats commonly used in FloodPROOFs modelling system, are written in python3 and available in the src folder;</li>
<li><strong>Utilities</strong>: common functionality required by the previous components.</li>
</ul>
</dd>
</dl>
<p>The structure of the package is reported above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>hyde-master
├── apps
├── bin
├── docs
├── src
│   ├── common
│   └── hyde
├── test
├── AUTHORS.rst
├── CHANGELOG.rst
├── LICENSE.rst
└── README.rst
</pre></div>
</div>
<p>All codes and datasets are freely available and users can be get them from our github repository [<a class="reference external" href="https://github.com/c-hydro">1</a>].</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>In order to use the HyDE, users are strongly raccomanted to control if the following characteristics, libraries and packages are available and correctly installed on their machine.</p>
<p>Usually, HyDE is installed on <strong>Linux Debian/Ubuntu 64bit</strong> environment and all dependencies must be installed in according with this operative system.</p>
<p>All codes, subroutines and scripts are developed using both <strong>Python</strong> (version 3 and greater) [<a class="reference external" href="https://www.python.org/">2</a>] and <strong>GNU Bash</strong> [<a class="reference external" href="https://www.gnu.org/software/bash/">3</a>]. QGIS geographic information system (version 2.18 and greater) [<a class="reference external" href="https://qgis.org/en/site/">4</a>] is used to develop tools to organize, create and control static and dynamic datasets.</p>
<p>The libraries and the packages are mainly divided in three categories:</p>
<blockquote>
<div><ul class="simple">
<li>python3 packages and applications;</li>
<li>GNU Bash applications;</li>
<li>other software and applications (Jupyter Notebook, Panoply, cdo, nco, ncview …)</li>
</ul>
</div></blockquote>
<div class="section" id="python3-libraries">
<h3>Python3 libraries<a class="headerlink" href="#python3-libraries" title="Permalink to this headline">¶</a></h3>
<p>The python3 standard library is not sufficient to correctly install all HyDE applications; for this reason some extra libraries are needed to guarantee all functionalities.
To install all python3 libraries a bash script named “setup_fp_env_python.sh” is provided [<a class="reference external" href="https://github.com/c-hydro/fp-env">5</a>]; basically, the script calls a <strong>miniconda</strong> [<a class="reference external" href="https://conda.io/miniconda.html">6</a>] installation that allow to get all needed libraries and install them into “$HOME/user/fp_libs_python/” folder. During the installation, a virtual environment named “fp_env_python” is created too.</p>
<p>The users have to clone the github repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt; git clone git@github.com:c-hydro/fp-envs.git
</pre></div>
</div>
<p>and run the following bash script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt; ./setup_fp_env_python.sh
<span class="p">|</span><span class="o">[</span>take a moment ... <span class="o">]</span>
</pre></div>
</div>
<p>Once all libraries are correctly installed and configurated, to activate “fp_env_python” by command-line is necessary to execute the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt; <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/fp_libs_python/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
&gt;&gt; <span class="nb">source</span> activate fp_env_python
</pre></div>
</div>
<p>By default, the “fp_env_python” environment is shown in parentheses () or brackets [] at the beginning of your command prompt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>fp_env_python<span class="o">)</span> &gt;&gt;
</pre></div>
</div>
<p>Activating the virtual enviroment permits to use a correct configuration and all applications of HyDE package will work properly.</p>
</div>
<div class="section" id="other-software-and-applications">
<h3>Other software and applications<a class="headerlink" href="#other-software-and-applications" title="Permalink to this headline">¶</a></h3>
<p>As previously said, to perform analysis or check results, users can use some external and freely available softwares and applications.</p>
<p>Some of these are reported in the following list:</p>
<blockquote>
<div><ul class="simple">
<li>PanoplyJ Data Viewer [<a class="reference external" href="https://www.giss.nasa.gov/tools/panoply/">7</a>]</li>
<li>CDO - Climate Data Operators [<a class="reference external" href="https://code.mpimet.mpg.de/projects/cdo">8</a>]</li>
<li>NCO - NetCDF Operators [<a class="reference external" href="http://nco.sourceforge.net/">9</a>]</li>
<li>NCView: a netCDF visual browser [<a class="reference external" href="http://meteora.ucsd.edu/~pierce/ncview_home_page.html">10</a>]</li>
<li>Jupyter notebook web application [<a class="reference external" href="https://jupyter.org/">11</a>]</li>
</ul>
</div></blockquote>
<p>More information is available on the homepage of the different software.</p>
</div>
</div>
<div class="section" id="potential-users">
<h2>Potential Users<a class="headerlink" href="#potential-users" title="Permalink to this headline">¶</a></h2>
<p>The HyDE package has been released to enable different applications (for example local/regional scenario assessment) and further development by external users.</p>
<p>Potential users are anticipated to predominately be interested in the ability to run the system with local data (including scenario modelling) and to modify the system with new capabilities. The potential collaborators have expressed a range of potential goals for their use of the modelling system, including performing comparisons with existing models, tailoring the hydrological performance to specific land uses and cropping types.</p>
<p>Broadly speaking, there are four potential user categories of the FloodPROOFS modelling system:</p>
<blockquote>
<div><ul class="simple">
<li><strong>Data user</strong>: who accessing the model outputs through the Bureau’s website.</li>
<li><strong>Case study user</strong>: who work to evaluate his/her case using data over a selected time period.</li>
<li><strong>Applying users</strong>: who would primarily be interested in applying the current model to a region of interest using localised and/or scenario data where available.</li>
<li><strong>Contributor users</strong>: who will extend the capabilities of the model with new research and coding (modify the system with new capabilities)</li>
</ul>
</div></blockquote>
<p>It is expected that the majority of early adopters of the HyDE package will be Applying users looking to apply the system with local data/scenarios, with more Contributor users adopting the system as it becomes well known and established.</p>
</div>
<div class="section" id="contribute">
<h2>Contribute<a class="headerlink" href="#contribute" title="Permalink to this headline">¶</a></h2>
<p>We are happy if you want to contribute. Please raise an issue explaining what is missing or if you find a bug. We will also gladly accept pull requests against our master branch for new features or bug fixes.</p>
<div class="section" id="development-setup">
<h3>Development setup<a class="headerlink" href="#development-setup" title="Permalink to this headline">¶</a></h3>
<p>For Development we also recommend a “conda” environment. You can create one including test dependencies and debugger by running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt; conda env create -n fp_env_dev -c &lt;list_of_packages&gt;
</pre></div>
</div>
<p>or alternatively using a file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt; <span class="s2">&quot;conda env create -n fp_env_dev  -f &lt;file_of_packages.yml&gt;</span>
</pre></div>
</div>
<p>This will create a new “fp_env_dev” environment which you can activate by using “source activate fp_env_dev”.</p>
</div>
<div class="section" id="guidelines">
<h3>Guidelines<a class="headerlink" href="#guidelines" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>If you want to contribute please follow these steps:</dt>
<dd><ul class="first last simple">
<li>Fork the HyDE package to your account</li>
<li>Clone the repository, make sure you use “git clone –recursive” to also get the test data repository.</li>
<li>make a new feature branch from the repository master branch</li>
<li>Add your feature</li>
<li>Please include tests for your contributions in one of the test directories. We use py.test so a simple function called “test_my_feature” is enough</li>
<li>submit a pull request to our master branch</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">[<a class="reference external" href="https://github.com/c-hydro">1</a>] CIMA Hydrology and Hydraulics GitHub Repository</div>
<div class="line">[<a class="reference external" href="https://www.python.org/">2</a>] Python programming language</div>
<div class="line">[<a class="reference external" href="https://www.gnu.org/software/bash/">3</a>] GNU Bash</div>
<div class="line">[<a class="reference external" href="https://qgis.org/en/site/">4</a>] QGIS project</div>
<div class="line">[<a class="reference external" href="https://github.com/c-hydro/fp-env">5</a>] FloodPROOFS virtual environment tools</div>
<div class="line">[<a class="reference external" href="https://conda.io/miniconda.html">6</a>] Conda environment manager</div>
<div class="line">[<a class="reference external" href="https://www.giss.nasa.gov/tools/panoply/">7</a>] Panoply netCDF, HDF and GRIB Data Viewer</div>
<div class="line">[<a class="reference external" href="https://code.mpimet.mpg.de/projects/cdo">8</a>] CDO - Climate Data Operators</div>
<div class="line">[<a class="reference external" href="http://nco.sourceforge.net/">9</a>] NCO - NetCDF Operators</div>
<div class="line">[<a class="reference external" href="http://meteora.ucsd.edu/~pierce/ncview_home_page.html">10</a>] NCView: a netCDF visual browser</div>
<div class="line">[<a class="reference external" href="https://jupyter.org/">11</a>] Jupyter notebook web application</div>
<div class="line">[<a class="reference external" href="https://en.wikipedia.org/wiki/Cron">12</a>] Cron jobs scheduler</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="applications.html" class="btn btn-neutral float-right" title="Applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to hyde’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Fabio Delogu

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>